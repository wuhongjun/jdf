/* jdf-1.0.0/ shortcut.js Date:2015-05-22 09:59:12 */
define("jdf/1.0.0/unit/shortcut/2.0.0/shortcut.js",["jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js","jdf/1.0.0/ui/areamini/1.0.0/areamini.js","jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js","jdf/1.0.0/unit/myjd/2.0.0/myjd.js","jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js","jdf/1.0.0/unit/cookie/1.0.0/cookie.js"],function(require){require("jdf/1.0.0/ui/dropdown/1.0.0/dropdown.js");require("jdf/1.0.0/ui/areamini/1.0.0/areamini.js");var e=require("jdf/1.0.0/unit/setUserInfo/1.0.0/setUserInfo.js");var f=require("jdf/1.0.0/unit/myjd/2.0.0/myjd.js");var g=require("jdf/1.0.0/unit/localStorage/1.0.0/localStorage.js");var h=require("jdf/1.0.0/unit/cookie/1.0.0/cookie.js");function i(){var a=$("#shortcut-2014");var b='<div class="dd-spacer"></div><div class="dd-inner"><span class="loading"></span></div>';e({el:$("#ttbar-login")});var c='			<div class="dt cw-icon ui-areamini-text-wrap" style="display:none;">				<i class="ci-right"><s>\u25c7</s></i>				\u9001\u81f3\uff1a<span class="ui-areamini-text"></span> 			</div>			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="ui-areamini-content-wrap"> 					<div class="ui-areamini-content"></div> 				</div> 			</div>		';$("#ttbar-mycity").html(c).areamini({hasCssLink:!1,className:{hover:"hover",selected:"selected"},provinceList:[{name:"\u6d77\u5916",tpl:'<div class="item"><a href="http://en.jd.com/chinese.html" target="_blank" data-onchange="1"><%=name%></a></div>'}],tplContentWrap:'<div class="ui-areamini-content-list"><%=list%></div>',tplContentItem:'<div class="item"><a data-id="<%=id%>" href="javascript:void(0)"><%=name%></a></div>',syncServer:!0,writeCookie:!1,threeWordDeal:function(a){var b=a.find(".ui-areamini-text").html();var c=a.find(".dd-spacer");3==b.length?c.addClass("dd-spacer-extend"):c.removeClass("dd-spacer-extend")},onReady:function(){this.el.find(".ui-areamini-text-wrap").show();var b=h("areaId");if(g.check()&&b){var c="areaId";g.get(c)?g.get(c)!=b&&(g.set(c,b),g.clearByReg("^jd_home_2015_")):g.set(c,b)}this.options.threeWordDeal(this.el)},onChange:function(a,b){this.options.threeWordDeal(this.el),"undefined"!=typeof b&&window.location.reload()}}),f();var d='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-apps-main">'+b+"				</div>			</div>		";$("#ttbar-apps").append(d).attr("aid","2_955_6342").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"http://nfa.jd.com/loadFa.js?aid=2_955_6342",dataType:"script",success:function(){}}))}});var i='			<div class="dd dorpdown-layer">				<div class="dd-spacer"></div>				<div class="dd-inner" id="ttbar-atte-main">'+b+"				</div>			</div>		";$("#ttbar-atte").append(i).attr("aid","2_955_6494").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(a){a.attr("data-load")||(a.attr("data-load",1),$.ajax({url:"http://nfa.jd.com/loadFa.js?aid=2_955_6494",dataType:"script",success:function(){}}))}}),a.find("#ttbar-serv .dd").html(b),a.find("#ttbar-serv").dropdown({enterDelay:50,trigger:!0,current:"hover",onchange:function(b){b.attr("data-load")||(b.attr("data-load",1),$.ajax({url:"http://dc.3.cn/client/get",dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"ui_getClientCallback",success:function(b){if(b&&"object"==typeof b){b=b.data;var c='<div class="dd-spacer"></div>';$.each(b,function(a){var d=b[a];var e=d.type?'class="'+d.c+'"':"";c+='<div class="item"><a href="'+d.u+'" target="_blank" '+e+">"+d.n+"</a></div>"}),a.find("#ttbar-serv .dd").html(c)}}}))}}),a.find("#ttbar-navs .dd").html(b),a.find("#ttbar-navs").dropdown({enterDelay:50,trigger:!0,current:"hover",leaveDelay:100,onchange:function(b){b.attr("data-load")||(b.attr("data-load",1),$.ajax({url:"http://dc.3.cn/navigation/get",dataType:"jsonp",scriptCharset:"gb2312",cache:!0,jsonpCallback:"ui_getNavigationCallback",success:function(b){if(b&&"object"==typeof b){b=b.data;var c='<div class="dd-spacer"></div>';$.each(b,function(a){var d=b[a];var e=d.s;var f="";$.each(e,function(a){var b=e[a];var c=b.c?'class="'+b.c+'"':"";f+='<div class="item"><a href="'+b.u+'" target="_blank" '+c+">"+b.n+"</a></div>"});var g=d.n;var h=d.c?'class="'+d.c+'"':"";d.u&&(g='<a href="'+d.u+'" target="_blank" '+h+">"+d.n+"</a>"),c+='<dl class="fore'+(a+1)+'">									<dt>'+g+"</dt>									<dd>										"+f+"									</dd>								</dl>"}),a.find("#ttbar-navs .dd").html(c)}}}))}})}return i});
